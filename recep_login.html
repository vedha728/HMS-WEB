{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Receptionist Login - HealthPoint Clinic</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Add your custom styles here -->
  <style>
    body { background-color: #f8f9fa; font-family: Arial, sans-serif; }
    .hero-section {
        background: linear-gradient(to right, #007bff, #6610f2);
        color: white;
        padding: 4rem 2rem;
        text-align: center;
        position: relative;
    }
    .card { box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin: 20px 0; }
    .dashboard { display: none; }
    .language-switcher {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 120px;
    }
    footer {
        background-color: #343a40;
      color: #fff;
      padding: 0.5rem 0;         /* Lower vertical padding! */
      text-align: center;
      width: 800px;               /* Match your main card/container width */
      margin: 2rem auto 0 auto;   /* Top margin, centered */
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08); /* Subtle shadow */
      position: static;           /* Let content push it down, don't block */
      font-size: 1rem;
      border-top: 2px solid #eee;
    }
    @media (max-width: 900px) {
        footer {
        width: 96vw;
        border-radius: 0;
        font-size: 0.95rem;
      }
    }
    .clinic-info {
      background-color: #ffffff;
      padding: 2rem;
      margin: 2rem auto;
      text-align: center;
      max-width: 800px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    footer {
      background-color: #343a40;
      color: #fff;
      padding: 1.5rem 0;
      text-align: center;
      position: fixed;
      bottom: 0;
      width: 100%;
      left: 0;
    }
  </style>
</head>
<body>
  <!-- Receptionist Authentication -->
  <div id="receptionAuth" class="container mt-5 dashboard">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h3 class="text-center">Receptionist Login</h3>
            <div class="alert alert-warning text-center mb-3">
                Only authorized personnel can access
            </div>
            <form onsubmit="handleReceptionLogin(event)">
                <div class="mb-3">
                  <label for="receptionPasskey" class="form-label">Enter Passkey</label>
                  <input type="password" id="receptionPasskey" class="form-control" maxlength="4" required>
                  <div id="passkeyError" class="text-danger mt-1" style="display: none;">Incorrect passkey. Please try again.</div>
                </div>
                <div id="receptionCredentials" style="display: none;">
                <div class="mb-3">
                    <label for="receptionUser" class="form-label">Username</label>
                    <input type="text" id="receptionUser" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="receptionPass" class="form-label">Password</label>
                    <input type="password" id="receptionPass" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary w-100" id="receptionLoginBtn">Login</button>
            </form>
            <div class="text-center mt-3">
                <a href="#" onclick="showSection('introPage')" class="btn btn-outline-secondary">Back to Home</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Receptionist Dashboard -->
  <div id="receptionDashboard" class="container mt-5 dashboard" style="display:none;">
    <h2>Appointment Management</h2>
    <div class="mb-3 d-flex justify-content-between align-items-center">
      <div>
        <button type="button" class="btn btn-primary" onclick="showAddAppointmentModal()">+ Add Appointment</button>
      </div>
      <div id="calendarContainer"></div>
    </div>
    <div id="receptionistNotifications" class="mt-4">
      <h4>Notifications</h4>
      <div id="notificationsList"></div>
      <button onclick="clearReceptionistNotifications()" class="btn btn-danger mt-3">Clear Notifications</button>
    </div>  
    <div id="appointmentsList" class="mt-4"></div>
  </div>
  <!-- Add Appointment Modal -->
    <div class="modal" tabindex="-1" id="addAppointmentModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add New Appointment</h5>
            <button type="button" class="btn-close" onclick="closeAddAppointmentModal()"></button>
          </div>
          <div class="modal-body">
            <form id="addAppointmentForm">
              <div class="mb-2">
                <label class="form-label">Patient Email (existing or new)</label>
                <input type="email" id="modalPatientEmail" autocomplete="email" class="form-control" required>
              </div>
              <div class="mb-2">
                <label class="form-label">Service</label>
                <select id="modalServiceType" class="form-select" required>
                  <option value="">Select Service</option>
                  <option>General Checkup</option>
                  <option>Eye Care</option>
                  <option>Dental Care</option>
                  <option>Blood test</option>
                  <option>Diabetes test</option>
                  <option>X-ray</option>
                  <option>PT scan</option>
                  <option>Vaccination</option>
                </select>
              </div>
              <div class="mb-2">
                <label class="form-label">Date</label>
                <input type="date" id="modalAppointmentDate" class="form-control" required>
              </div>
              <div class="mb-2">
                <label class="form-label">Time</label>
                <select id="modalAppointmentTime" class="form-select w-50" required>
                  <option value="">Select Time</option>
                  <option value="09:00">9 AM</option>
                  <option value="10:00">10 AM</option>
                  <option value="11:00">11 AM</option>
                  <option value="12:00">12 PM</option>
                  <option value="14:00">2 PM</option>
                  <option value="15:00">3 PM</option>
                  <option value="16:00">4 PM</option>
                  <option value="17:00">5 PM</option>
                  <option value="18:00">6 PM</option>
                  <option value="19:00">7 PM</option>
                </select>
              </div>
              <button type="submit" class="btn btn-success">Book Appointment</button>
            </form>
            <div id="addAppointmentStatus" class="mt-2"></div>
          </div>
        </div>
      </div>
    </div>
  <script src="{% static 'hosp/recep_log.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
